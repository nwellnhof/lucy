<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<!--
***********************************************

!!!! DO NOT EDIT !!!!

This file was auto-generated by cfc.

***********************************************

Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<meta name="viewport" content="width=device-width" />
<title>Lucy::Index::DeletionsWriter – C API Documentation</title>
<style type="text/css">
body {
    max-width: 48em;
    font: 0.85em/1.4 sans-serif;
}
a {
    color: #23b;
}
table {
    border-collapse: collapse;
}
td {
    padding: 0;
}
td.label {
    padding-right: 2em;
    font-weight: bold;
}
dt {
    font-weight: bold;
}
pre {
    border: 1px solid #ccc;
    padding: 0.2em 0.4em;
    background: #f6f6f6;
    font-size: 0.92em;
}
pre a {
    text-decoration: none;
}
pre, code {
    font-family: "Consolas", "Menlo", monospace;
}
span.prefix, span.comment {
    color: #888;
}
</style>
</head>
<body>
<h1>Lucy::Index::DeletionsWriter</h1>
<table>
<tr>
<td class="label">parcel</td>
<td><a href="../../lucy.html">Lucy</a></td>
</tr>
<tr>
<td class="label">class variable</td>
<td><code><span class="prefix">LUCY_</span>DELETIONSWRITER</code></td>
</tr>
<tr>
<td class="label">struct symbol</td>
<td><code><span class="prefix">lucy_</span>DeletionsWriter</code></td>
</tr>
<tr>
<td class="label">class nickname</td>
<td><code><span class="prefix">lucy_</span>DelWriter</code></td>
</tr>
<tr>
<td class="label">header file</td>
<td><code>Lucy/Index/DeletionsWriter.h</code></td>
</tr>
</table>
<h2>Name</h2>
<p>Lucy::Index::DeletionsWriter – Abstract base class for marking documents as deleted.</p>
<h2>Description</h2>
<p>Subclasses of DeletionsWriter provide a low-level mechanism for declaring a
document deleted from an index.</p>
<p>Because files in an index are never modified, and because it is not
practical to delete entire segments, a DeletionsWriter does not actually
remove documents from the index.  Instead, it communicates to a search-time
companion DeletionsReader which documents are deleted in such a way that it
can create a Matcher iterator.</p>
<p>Documents are truly deleted only when the segments which contain them are
merged into new ones.</p>
<h2>Methods</h2>
<dl>
<dt id="func_Delete_By_Term">Delete_By_Term <span class="comment">(abstract)</span></dt>
<dd>
<pre><code>void
<span class="prefix">lucy_</span><strong>DelWriter_Delete_By_Term</strong>(
    <span class="prefix">lucy_</span>DeletionsWriter *<strong>self</strong>,
    <span class="prefix">cfish_</span><a href="../../Clownfish/String.html">String</a> *<strong>field</strong>,
    <span class="prefix">cfish_</span><a href="../../Clownfish/Obj.html">Obj</a> *<strong>term</strong>
);
</code></pre>
<p>Delete all documents in the index that index the supplied term.</p>
<dl>
<dt>field</dt>
<dd><p>The name of an indexed field. (If it is not spec’d as
<code>indexed</code>, an error will occur.)</p>
</dd>
<dt>term</dt>
<dd><p>The term which identifies docs to be marked as deleted.  If
<code>field</code> is associated with an Analyzer, <code>term</code>
will be processed automatically (so don’t pre-process it yourself).</p>
</dd>
</dl>
</dd>
<dt id="func_Delete_By_Query">Delete_By_Query <span class="comment">(abstract)</span></dt>
<dd>
<pre><code>void
<span class="prefix">lucy_</span><strong>DelWriter_Delete_By_Query</strong>(
    <span class="prefix">lucy_</span>DeletionsWriter *<strong>self</strong>,
    <span class="prefix">lucy_</span><a href="../../Lucy/Search/Query.html">Query</a> *<strong>query</strong>
);
</code></pre>
<p>Delete all documents in the index that match <code>query</code>.</p>
<dl>
<dt>query</dt>
<dd><p>A <a href="../../Lucy/Search/Query.html">Query</a>.</p>
</dd>
</dl>
</dd>
<dt id="func_Updated">Updated <span class="comment">(abstract)</span></dt>
<dd>
<pre><code>bool
<span class="prefix">lucy_</span><strong>DelWriter_Updated</strong>(
    <span class="prefix">lucy_</span>DeletionsWriter *<strong>self</strong>
);
</code></pre>
<p>Returns true if there are updates that need to be written.</p>
</dd>
<dt id="func_Seg_Del_Count">Seg_Del_Count <span class="comment">(abstract)</span></dt>
<dd>
<pre><code>int32_t
<span class="prefix">lucy_</span><strong>DelWriter_Seg_Del_Count</strong>(
    <span class="prefix">lucy_</span>DeletionsWriter *<strong>self</strong>,
    <span class="prefix">cfish_</span><a href="../../Clownfish/String.html">String</a> *<strong>seg_name</strong>
);
</code></pre>
<p>Return the number of deletions for a given segment.</p>
<dl>
<dt>seg_name</dt>
<dd><p>The name of the segment.</p>
</dd>
</dl>
</dd>
</dl>
<h2>Inheritance</h2>
<p>Lucy::Index::DeletionsWriter is a <a href="../../Lucy/Index/DataWriter.html">Lucy::Index::DataWriter</a> is a <a href="../../Clownfish/Obj.html">Clownfish::Obj</a>.</p>
</body>
</html>
