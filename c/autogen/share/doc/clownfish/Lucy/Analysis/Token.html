<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<!--
***********************************************

!!!! DO NOT EDIT !!!!

This file was auto-generated by cfc.

***********************************************

Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<meta name="viewport" content="width=device-width" />
<title>Lucy::Analysis::Token – C API Documentation</title>
<style type="text/css">
body {
    max-width: 48em;
    font: 0.85em/1.4 sans-serif;
}
a {
    color: #23b;
}
table {
    border-collapse: collapse;
}
td {
    padding: 0;
}
td.label {
    padding-right: 2em;
    font-weight: bold;
}
dt {
    font-weight: bold;
}
pre {
    border: 1px solid #ccc;
    padding: 0.2em 0.4em;
    background: #f6f6f6;
    font-size: 0.92em;
}
pre a {
    text-decoration: none;
}
pre, code {
    font-family: "Consolas", "Menlo", monospace;
}
span.prefix, span.comment {
    color: #888;
}
</style>
</head>
<body>
<h1>Lucy::Analysis::Token</h1>
<table>
<tr>
<td class="label">parcel</td>
<td><a href="../../lucy.html">Lucy</a></td>
</tr>
<tr>
<td class="label">class variable</td>
<td><code><span class="prefix">LUCY_</span>TOKEN</code></td>
</tr>
<tr>
<td class="label">struct symbol</td>
<td><code><span class="prefix">lucy_</span>Token</code></td>
</tr>
<tr>
<td class="label">class nickname</td>
<td><code><span class="prefix">lucy_</span>Token</code></td>
</tr>
<tr>
<td class="label">header file</td>
<td><code>Lucy/Analysis/Token.h</code></td>
</tr>
</table>
<h2>Name</h2>
<p>Lucy::Analysis::Token – Unit of text.</p>
<h2>Description</h2>
<p>Token is the fundamental unit used by Apache Lucy’s Analyzer subclasses.
Each Token has 5 attributes: <code>text</code>, <code>start_offset</code>,
<code>end_offset</code>, <code>boost</code>, and <code>pos_inc</code>.</p>
<p>The <code>text</code> attribute is a Unicode string encoded as UTF-8.</p>
<p><code>start_offset</code> is the start point of the token text, measured in
Unicode code points from the top of the stored field;
<code>end_offset</code> delimits the corresponding closing boundary.
<code>start_offset</code> and <code>end_offset</code> locate the Token
within a larger context, even if the Token’s text attribute gets modified
– by stemming, for instance.  The Token for “beating” in the text “beating
a dead horse” begins life with a start_offset of 0 and an end_offset of 7;
after stemming, the text is “beat”, but the start_offset is still 0 and the
end_offset is still 7.  This allows “beating” to be highlighted correctly
after a search matches “beat”.</p>
<p><code>boost</code> is a per-token weight.  Use this when you want to assign
more or less importance to a particular token, as you might for emboldened
text within an HTML document, for example.  (Note: The field this token
belongs to must be spec’d to use a posting of type RichPosting.)</p>
<p><code>pos_inc</code> is the POSition INCrement, measured in Tokens.  This
attribute, which defaults to 1, is a an advanced tool for manipulating
phrase matching.  Ordinarily, Tokens are assigned consecutive position
numbers: 0, 1, and 2 for <code>&quot;three blind mice&quot;</code>.  However, if you
set the position increment for “blind” to, say, 1000, then the three tokens
will end up assigned to positions 0, 1, and 1001 – and will no longer
produce a phrase match for the query <code>&quot;three blind mice&quot;</code>.</p>
<h2>Functions</h2>
<dl>
<dt id="func_new">new</dt>
<dd>
<pre><code><span class="prefix">lucy_</span>Token* <span class="comment">// incremented</span>
<span class="prefix">lucy_</span><strong>Token_new</strong>(
    char *<strong>text</strong>,
    size_t <strong>len</strong>,
    uint32_t <strong>start_offset</strong>,
    uint32_t <strong>end_offset</strong>,
    float <strong>boost</strong>,
    int32_t <strong>pos_inc</strong>
);
</code></pre>
<p>Create a new Token.</p>
<dl>
<dt>text</dt>
<dd><p>A UTF-8 string.</p>
</dd>
<dt>len</dt>
<dd><p>Size of the string in bytes.</p>
</dd>
<dt>start_offset</dt>
<dd><p>Start offset into the original document in Unicode
code points.</p>
</dd>
<dt>start_offset</dt>
<dd><p>End offset into the original document in Unicode
code points.</p>
</dd>
<dt>boost</dt>
<dd><p>Per-token weight.</p>
</dd>
<dt>pos_inc</dt>
<dd><p>Position increment for phrase matching.</p>
</dd>
</dl>
</dd>
<dt id="func_init">init</dt>
<dd>
<pre><code><span class="prefix">lucy_</span>Token*
<span class="prefix">lucy_</span><strong>Token_init</strong>(
    <span class="prefix">lucy_</span>Token *<strong>self</strong>,
    char *<strong>text</strong>,
    size_t <strong>len</strong>,
    uint32_t <strong>start_offset</strong>,
    uint32_t <strong>end_offset</strong>,
    float <strong>boost</strong>,
    int32_t <strong>pos_inc</strong>
);
</code></pre>
<p>Initialize a Token.</p>
<dl>
<dt>text</dt>
<dd><p>A UTF-8 string.</p>
</dd>
<dt>len</dt>
<dd><p>Size of the string in bytes.</p>
</dd>
<dt>start_offset</dt>
<dd><p>Start offset into the original document in Unicode
code points.</p>
</dd>
<dt>start_offset</dt>
<dd><p>End offset into the original document in Unicode
code points.</p>
</dd>
<dt>boost</dt>
<dd><p>Per-token weight.</p>
</dd>
<dt>pos_inc</dt>
<dd><p>Position increment for phrase matching.</p>
</dd>
</dl>
</dd>
</dl>
<h2>Methods</h2>
<dl>
<dt id="func_Get_Start_Offset">Get_Start_Offset</dt>
<dd>
<pre><code>uint32_t
<span class="prefix">lucy_</span><strong>Token_Get_Start_Offset</strong>(
    <span class="prefix">lucy_</span>Token *<strong>self</strong>
);
</code></pre>
</dd>
<dt id="func_Get_End_Offset">Get_End_Offset</dt>
<dd>
<pre><code>uint32_t
<span class="prefix">lucy_</span><strong>Token_Get_End_Offset</strong>(
    <span class="prefix">lucy_</span>Token *<strong>self</strong>
);
</code></pre>
</dd>
<dt id="func_Get_Boost">Get_Boost</dt>
<dd>
<pre><code>float
<span class="prefix">lucy_</span><strong>Token_Get_Boost</strong>(
    <span class="prefix">lucy_</span>Token *<strong>self</strong>
);
</code></pre>
</dd>
<dt id="func_Get_Pos_Inc">Get_Pos_Inc</dt>
<dd>
<pre><code>int32_t
<span class="prefix">lucy_</span><strong>Token_Get_Pos_Inc</strong>(
    <span class="prefix">lucy_</span>Token *<strong>self</strong>
);
</code></pre>
</dd>
<dt id="func_Get_Text">Get_Text</dt>
<dd>
<pre><code>char*
<span class="prefix">lucy_</span><strong>Token_Get_Text</strong>(
    <span class="prefix">lucy_</span>Token *<strong>self</strong>
);
</code></pre>
</dd>
<dt id="func_Get_Len">Get_Len</dt>
<dd>
<pre><code>size_t
<span class="prefix">lucy_</span><strong>Token_Get_Len</strong>(
    <span class="prefix">lucy_</span>Token *<strong>self</strong>
);
</code></pre>
</dd>
<dt id="func_Set_Text">Set_Text</dt>
<dd>
<pre><code>void
<span class="prefix">lucy_</span><strong>Token_Set_Text</strong>(
    <span class="prefix">lucy_</span>Token *<strong>self</strong>,
    char *<strong>text</strong>,
    size_t <strong>len</strong>
);
</code></pre>
</dd>
<dt id="func_Destroy">Destroy</dt>
<dd>
<pre><code>void
<span class="prefix">lucy_</span><strong>Token_Destroy</strong>(
    <span class="prefix">lucy_</span>Token *<strong>self</strong>
);
</code></pre>
<p>Generic destructor.  Frees the struct itself but not any complex
member elements.</p>
</dd>
</dl>
<h2>Inheritance</h2>
<p>Lucy::Analysis::Token is a <a href="../../Clownfish/Obj.html">Clownfish::Obj</a>.</p>
</body>
</html>
