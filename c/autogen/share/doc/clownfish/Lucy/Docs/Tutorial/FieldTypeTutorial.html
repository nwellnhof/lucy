<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<!--
***********************************************

!!!! DO NOT EDIT !!!!

This file was auto-generated by cfc.

***********************************************

Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<meta name="viewport" content="width=device-width" />
<title>Lucy::Docs::Tutorial::FieldTypeTutorial</title>
<style type="text/css">
body {
    max-width: 48em;
    font: 0.85em/1.4 sans-serif;
}
a {
    color: #23b;
}
table {
    border-collapse: collapse;
}
td {
    padding: 0;
}
td.label {
    padding-right: 2em;
    font-weight: bold;
}
dt {
    font-weight: bold;
}
pre {
    border: 1px solid #ccc;
    padding: 0.2em 0.4em;
    background: #f6f6f6;
    font-size: 0.92em;
}
pre a {
    text-decoration: none;
}
pre, code {
    font-family: "Consolas", "Menlo", monospace;
}
span.prefix, span.comment {
    color: #888;
}
</style>
</head>
<body>
<h1>Specify per-field properties and behaviors.</h1>
<p>The Schema we used in the last chapter specifies three fields:</p>
<pre><code class="language-c">    FullTextType *type = FullTextType_new((Analyzer*)analyzer);

    {
        String *field_str = Str_newf(&quot;title&quot;);
        Schema_Spec_Field(schema, field_str, (FieldType*)type);
        DECREF(field_str);
    }

    {
        String *field_str = Str_newf(&quot;content&quot;);
        Schema_Spec_Field(schema, field_str, (FieldType*)type);
        DECREF(field_str);
    }

    {
        String *field_str = Str_newf(&quot;url&quot;);
        Schema_Spec_Field(schema, field_str, (FieldType*)type);
        DECREF(field_str);
    }

</code></pre>
<p>Since they are all defined as “full text” fields, they are all searchable –
including the <code>url</code> field, a dubious choice.  Some URLs contain meaningful
information, but these don’t, really:</p>
<pre><code>http://example.com/us_constitution/amend1.txt
</code></pre>
<p>We may as well not bother indexing the URL content.  To achieve that we need
to assign the <code>url</code> field to a different FieldType.</p>
<h2>StringType</h2>
<p>Instead of FullTextType, we’ll use a
<a href="../../../Lucy/Plan/StringType.html">StringType</a>, which doesn’t use an
Analyzer to break up text into individual fields.  Furthermore, we’ll mark
this StringType as unindexed, so that its content won’t be searchable at all.</p>
<pre><code class="language-c">    {
        String *field_str = Str_newf(&quot;url&quot;);
        StringType *type = StringType_new();
        StringType_Set_Indexed(type, false);
        Schema_Spec_Field(schema, field_str, (FieldType*)type);
        DECREF(type);
        DECREF(field_str);
    }
</code></pre>
<p>To observe the change in behavior, try searching for <code>us_constitution</code> both
before and after changing the Schema and re-indexing.</p>
<h2>Toggling ‘stored’</h2>
<p>For a taste of other FieldType possibilities, try turning off <code>stored</code> for
one or more fields.</p>
<pre><code class="language-c">    FullTextType *content_type = FullTextType_new((Analyzer*)analyzer);
    FullTextType_Set_Stored(content_type, false);
</code></pre>
<p>Turning off <code>stored</code> for either <code>title</code> or <code>url</code> mangles our results page,
but since we’re not displaying <code>content</code>, turning it off for <code>content</code> has
no effect – except on index size.</p>
<h2>Analyzers up next</h2>
<p>Analyzers play a crucial role in the behavior of FullTextType fields.  In our
next tutorial chapter, <a href="../../../Lucy/Docs/Tutorial/AnalysisTutorial.html">AnalysisTutorial</a>, we’ll see how
changing up the Analyzer changes search results.</p>
</body>
</html>
